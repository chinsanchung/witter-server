# 작업 진도

그동안 수행해온 작업들을 작성합니다.

### 09/21

- 데이터베이스 연결, express app 의 미들웨어 연결, 그리고 app 을 클래스 형태로 변경. debug 패키지로 서버의 로그를 출력하도록 설정했습니다.
- 사용자 데이터 스키마를 작성했습니다.
- Redis 클라우드 가입, express app 에 연결했습니다.

### 09/22

- passport, passport-local 설치, 로그인 관련 설정을 진행했습니다.
- User 모델의 스키마에 follower, following 을 추가했습니다.
- 회원가입, 로그인, 로그아웃, 탈퇴 처리를 맡을 api/auth 폴더를 생성했습니다..
  - 컨트롤러, 서비스, 레포지토리로 구분하는 작업 시작 (this.authService 를 인식하지 못하는 문제: 화살표 함수로 수정해서 this 의 값을 찾도록 수정했습니다.)

### 09/23

- 회원가입 기능 작업: 사용자 정보를 req.body 객체에 넣어 보내기, 비밀번호 암호화, 데이터베이스에 사용자 생성을 진행했습니다.
- 로그인, 로그아웃 기능을 작성했습니다.
- User 모델의 스키마에 description(자기소개), header(헤더), photo(프로필 사진), lock_status(공개 여부) 를 추가했습니다.
- 트윗 생성하기와 is_active 를 false 로 바꿔 트윗을 삭제하는 기능을 작성했습니다.
- 지금까지의 api 에러 처리를 [http-errors](https://www.npmjs.com/package/http-errors) 패키지로 처리하도록 변경했습니다.

### 09/24

- Tweet 모델에서 미디어를 이미지와 비디오로 분리했습니다. 이미지는 최대 4개인 배열, 비디오는 하나만 올릴 수 있습니다.
  - 그에 따라 컨트롤러와 서비스의 createTweet 메소드를 수정했습니다.
- 파일을 AWS S3 로 업로드하는 multer, multer-s3, aws-sdk 를 설치하고, 업로드 미들웨어를 작성했습니다.
<!-- - 리트윗, 마음에 들어요 기능을 doTweetAction 메소드로 수행하도록 작성했습니다. 답글 달기와 삭제 기능을 작성했습니다. -->
- 리트윗, 마음에 들어요, 답글 달기 기능을 수행하기 전에 트윗이 존재하는지 또는 삭제하지 않았는지를 확인하는 checkTweetExistence 메소드를 추가했습니다.
- 사용자가 작성한 트윗, 답글을 작성 순으로 저장하는 tweet_list, 마음에 들어요를 저장하는 like_list 를 가진 TimeLine 스키마와 모델을 작성했습니다.

### 09/25

- 타임라인 모델을 추가에 맞춰 트윗 작성과 삭제, 리트윗, 답글 작성과 삭제 기능에 타임라인 데이터와의 연동을 추가했습니다.
  - 또한 doTweetAction 으로 일원화했던 리트윗, 마음에 들어요 기능을 분리했습니다. 타임라인 데이터와의 연동을 추가한만큼 4개로 분리하는 것이 가독성 측면에서 더 좋을 것이라 판단했습니다.
- TimeLine 의 목록 구성을 수정했습니다. 타임라인의 출력을 원할하게 하기 위해 tweet_id 뿐만 아니라 register_date(등록일), is_retweet(리트윗 여부)를 더한 객체 목록으로 변경했습니다.
- reading 서비스 api 를 작성했습니다. 여기에는 특정 트윗 1개와 그에 따른 댓글을 보여주는 기능(getTweets), 특정 사용자의 타임라인(getUserTimeLine), 그리고 로그인한 사용자의 타임라인을 출력하는 기능(getHomeTimeLine)이 있습니다.
